#   The 38-node-wan-1dc.yml launches a containerlab XRd topology where the XRd instances are connected
#   via point-to-point links: https://containerlab.dev/manual/network/#point-to-point-links

name: xrd-sp-1dc

mgmt:
  network: mgt_net
  ipv4-subnet: 172.20.1.0/24
  ipv6-subnet: 2001:172:20:1::/80

topology:
  nodes:

    xrd01:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.101
      mgmt-ipv6: 2001:172:20:1::101
      startup-config: config/xrd01.cfg

    xrd02:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.102
      mgmt-ipv6: 2001:172:20:1::102
      startup-config: config/xrd02.cfg

    xrd03:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.103
      mgmt-ipv6: 2001:172:20:1::103
      startup-config: config/xrd03.cfg

    xrd04:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.104
      mgmt-ipv6: 2001:172:20:1::104
      startup-config: config/xrd04.cfg

    xrd05:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.105
      mgmt-ipv6: 2001:172:20:1::105
      startup-config: config/xrd05.cfg

    xrd06:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.106
      mgmt-ipv6: 2001:172:20:1::106
      startup-config: config/xrd06.cfg

    xrd07:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.107
      mgmt-ipv6: 2001:172:20:1::107
      startup-config: config/xrd07.cfg

    xrd08:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.108
      mgmt-ipv6: 2001:172:20:1::108
      startup-config: config/xrd08.cfg

    xrd09:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.109
      mgmt-ipv6: 2001:172:20:1::109
      startup-config: config/xrd09.cfg

    xrd10:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.110
      mgmt-ipv6: 2001:172:20:1::110
      startup-config: config/xrd10.cfg

    xrd11:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.111
      mgmt-ipv6: 2001:172:20:1::111
      startup-config: config/xrd11.cfg

    xrd12:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.112
      mgmt-ipv6: 2001:172:20:1::112
      startup-config: config/xrd12.cfg

    xrd13:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.113
      mgmt-ipv6: 2001:172:20:1::113
      startup-config: config/xrd13.cfg

    xrd14:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.114
      mgmt-ipv6: 2001:172:20:1::114
      startup-config: config/xrd14.cfg

    xrd15:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.115
      mgmt-ipv6: 2001:172:20:1::115
      startup-config: config/xrd15.cfg

    xrd16:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.116
      mgmt-ipv6: 2001:172:20:1::116
      startup-config: config/xrd16.cfg

    xrd17:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.117
      mgmt-ipv6: 2001:172:20:1::117
      startup-config: config/xrd17.cfg

    xrd18:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.118
      mgmt-ipv6: 2001:172:20:1::118
      startup-config: config/xrd18.cfg

    xrd19:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.119
      mgmt-ipv6: 2001:172:20:1::119
      startup-config: config/xrd19.cfg

    xrd20:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.120
      mgmt-ipv6: 2001:172:20:1::120
      startup-config: config/xrd20.cfg

    xrd21:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.121
      mgmt-ipv6: 2001:172:20:1::121
      startup-config: config/xrd21.cfg

    xrd22:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.122
      mgmt-ipv6: 2001:172:20:1::122
      startup-config: config/xrd22.cfg

    xrd23:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.123
      mgmt-ipv6: 2001:172:20:1::123
      startup-config: config/xrd23.cfg

    xrd24:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.124
      mgmt-ipv6: 2001:172:20:1::124
      startup-config: config/xrd24.cfg

    xrd25:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.125
      mgmt-ipv6: 2001:172:20:1::125
      startup-config: config/xrd25.cfg

    xrd26:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.126
      mgmt-ipv6: 2001:172:20:1::126
      startup-config: config/xrd22.cfg

    xrd27:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.127
      mgmt-ipv6: 2001:172:20:1::127
      startup-config: config/xrd27.cfg

    xrd28:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.128
      mgmt-ipv6: 2001:172:20:1::128
      startup-config: config/xrd28.cfg

    xrd29:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.129
      mgmt-ipv6: 2001:172:20:1::129
      startup-config: config/xrd29.cfg

    xrd30:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.130
      mgmt-ipv6: 2001:172:20:1::130
      startup-config: config/xrd30.cfg

    xrd40:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.140
      mgmt-ipv6: 2001:172:20:1::140
      startup-config: config/xrd40.cfg

    xrd41:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.141
      mgmt-ipv6: 2001:172:20:1::141
      startup-config: config/xrd41.cfg

    xrd42:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.142
      mgmt-ipv6: 2001:172:20:1::142
      startup-config: config/xrd42.cfg

    xrd43:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.143
      mgmt-ipv6: 2001:172:20:1::143
      startup-config: config/xrd43.cfg

    xrd44:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.144
      mgmt-ipv6: 2001:172:20:1::144
      startup-config: config/xrd44.cfg

    xrd45:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.145
      mgmt-ipv6: 2001:172:20:1::145
      startup-config: config/xrd45.cfg

    xrd46:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.146
      mgmt-ipv6: 2001:172:20:1::146
      startup-config: config/xrd46.cfg

    xrd47:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:7.8.1
      mgmt-ipv4: 172.20.1.147
      mgmt-ipv6: 2001:172:20:1::147
      startup-config: config/xrd47.cfg

    xrd46-host:
      kind: bridge
    xrd47-host:
      kind: bridge

  links:
    - endpoints: ["xrd01:Gi0-0-0-0", "xrd04:Gi0-0-0-5"]
    - endpoints: ["xrd01:Gi0-0-0-1", "xrd03:Gi0-0-0-5"]
    - endpoints: ["xrd01:Gi0-0-0-2", "xrd41:Gi0-0-0-1"]
    - endpoints: ["xrd01:Gi0-0-0-3", "xrd40:Gi0-0-0-1"]

    - endpoints: ["xrd02:Gi0-0-0-0", "xrd04:Gi0-0-0-6"]
    - endpoints: ["xrd02:Gi0-0-0-1", "xrd03:Gi0-0-0-6"]
    - endpoints: ["xrd02:Gi0-0-0-2", "xrd41:Gi0-0-0-0"]
    - endpoints: ["xrd02:Gi0-0-0-3", "xrd40:Gi0-0-0-0"]

    - endpoints: ["xrd03:Gi0-0-0-0", "xrd04:Gi0-0-0-0"]
    - endpoints: ["xrd03:Gi0-0-0-1", "xrd05:Gi0-0-0-2"]
    - endpoints: ["xrd03:Gi0-0-0-2", "xrd12:Gi0-0-0-2"]
    - endpoints: ["xrd03:Gi0-0-0-3", "xrd18:Gi0-0-0-2"]
    - endpoints: ["xrd03:Gi0-0-0-4", "xrd22:Gi0-0-0-1"]

    - endpoints: ["xrd04:Gi0-0-0-1", "xrd11:Gi0-0-0-3"]
    - endpoints: ["xrd04:Gi0-0-0-2", "xrd06:Gi0-0-0-2"]
    - endpoints: ["xrd04:Gi0-0-0-3", "xrd19:Gi0-0-0-2"]
    - endpoints: ["xrd04:Gi0-0-0-4", "xrd23:Gi0-0-0-1"]

    - endpoints: ["xrd05:Gi0-0-0-0", "xrd06:Gi0-0-0-0"]
    - endpoints: ["xrd05:Gi0-0-0-1", "xrd07:Gi0-0-0-2"]
    - endpoints: ["xrd05:Gi0-0-0-3", "xrd30:Gi0-0-0-0"]
    - endpoints: ["xrd05:Gi0-0-0-4", "xrd26:Gi0-0-0-0"]

    - endpoints: ["xrd06:Gi0-0-0-1", "xrd08:Gi0-0-0-4"]
    - endpoints: ["xrd06:Gi0-0-0-3", "xrd30:Gi0-0-0-1"]

    - endpoints: ["xrd07:Gi0-0-0-0", "xrd08:Gi0-0-0-0"]
    - endpoints: ["xrd07:Gi0-0-0-1", "xrd12:Gi0-0-0-1"]
    - endpoints: ["xrd07:Gi0-0-0-3", "xrd10:Gi0-0-0-0"]
    - endpoints: ["xrd07:Gi0-0-0-4", "xrd09:Gi0-0-0-0"]
    - endpoints: ["xrd07:Gi0-0-0-5", "xrd25:Gi0-0-0-0"]

    - endpoints: ["xrd08:Gi0-0-0-1", "xrd09:Gi0-0-0-1"]
    - endpoints: ["xrd08:Gi0-0-0-2", "xrd10:Gi0-0-0-1"]
    - endpoints: ["xrd08:Gi0-0-0-3", "xrd11:Gi0-0-0-4"]

    - endpoints: ["xrd11:Gi0-0-0-0", "xrd12:Gi0-0-0-0"]
    - endpoints: ["xrd11:Gi0-0-0-1", "xrd16:Gi0-0-0-1"]
    - endpoints: ["xrd11:Gi0-0-0-2", "xrd19:Gi0-0-0-1"]
    - endpoints: ["xrd11:Gi0-0-0-5", "xrd13:Gi0-0-0-0"]
    - endpoints: ["xrd11:Gi0-0-0-6", "xrd14:Gi0-0-0-0"]

    - endpoints: ["xrd12:Gi0-0-0-3", "xrd18:Gi0-0-0-3"]
    - endpoints: ["xrd12:Gi0-0-0-4", "xrd15:Gi0-0-0-2"]
    - endpoints: ["xrd12:Gi0-0-0-5", "xrd14:Gi0-0-0-1"]
    - endpoints: ["xrd12:Gi0-0-0-6", "xrd13:Gi0-0-0-1"]

    - endpoints: ["xrd15:Gi0-0-0-0", "xrd16:Gi0-0-0-0"]
    - endpoints: ["xrd15:Gi0-0-0-1", "xrd18:Gi0-0-0-4"]
    - endpoints: ["xrd15:Gi0-0-0-3", "xrd17:Gi0-0-0-0"]

    - endpoints: ["xrd16:Gi0-0-0-2", "xrd19:Gi0-0-0-6"]
    - endpoints: ["xrd16:Gi0-0-0-3", "xrd28:Gi0-0-0-0"]

    - endpoints: ["xrd17:Gi0-0-0-1", "xrd29:Gi0-0-0-0"]

    - endpoints: ["xrd18:Gi0-0-0-0", "xrd19:Gi0-0-0-0"]
    - endpoints: ["xrd18:Gi0-0-0-1", "xrd22:Gi0-0-0-2"]
    - endpoints: ["xrd18:Gi0-0-0-5", "xrd21:Gi0-0-0-0"]
    - endpoints: ["xrd18:Gi0-0-0-6", "xrd20:Gi0-0-0-0"]

    - endpoints: ["xrd19:Gi0-0-0-3", "xrd23:Gi0-0-0-3"]
    - endpoints: ["xrd19:Gi0-0-0-4", "xrd21:Gi0-0-0-1"]
    - endpoints: ["xrd19:Gi0-0-0-5", "xrd20:Gi0-0-0-1"]

    - endpoints: ["xrd22:Gi0-0-0-0", "xrd23:Gi0-0-0-0"]
    - endpoints: ["xrd22:Gi0-0-0-3", "xrd24:Gi0-0-0-0"]
    - endpoints: ["xrd22:Gi0-0-0-4", "xrd27:Gi0-0-0-0"]

    - endpoints: ["xrd23:Gi0-0-0-2", "xrd24:Gi0-0-0-1"]
    - endpoints: ["xrd23:Gi0-0-0-4", "xrd27:Gi0-0-0-1"]

    - endpoints: ["xrd28:Gi0-0-0-1", "xrd29:Gi0-0-0-1"]

    - endpoints: ["xrd40:Gi0-0-0-2", "xrd42:Gi0-0-0-0"]
    - endpoints: ["xrd40:Gi0-0-0-3", "xrd43:Gi0-0-0-0"]
    - endpoints: ["xrd40:Gi0-0-0-4", "xrd44:Gi0-0-0-0"]
    - endpoints: ["xrd40:Gi0-0-0-5", "xrd45:Gi0-0-0-0"]

    - endpoints: ["xrd41:Gi0-0-0-2", "xrd42:Gi0-0-0-1"]
    - endpoints: ["xrd41:Gi0-0-0-3", "xrd43:Gi0-0-0-1"]
    - endpoints: ["xrd41:Gi0-0-0-4", "xrd44:Gi0-0-0-1"]
    - endpoints: ["xrd41:Gi0-0-0-5", "xrd45:Gi0-0-0-1"]

    - endpoints: ["xrd42:Gi0-0-0-2", "xrd46:Gi0-0-0-0"]
    - endpoints: ["xrd42:Gi0-0-0-3", "xrd47:Gi0-0-0-0"]

    - endpoints: ["xrd43:Gi0-0-0-2", "xrd46:Gi0-0-0-1"]
    - endpoints: ["xrd43:Gi0-0-0-3", "xrd47:Gi0-0-0-1"]

    - endpoints: ["xrd44:Gi0-0-0-2", "xrd46:Gi0-0-0-2"]
    - endpoints: ["xrd44:Gi0-0-0-3", "xrd47:Gi0-0-0-2"]

    - endpoints: ["xrd45:Gi0-0-0-2", "xrd46:Gi0-0-0-3"]
    - endpoints: ["xrd45:Gi0-0-0-3", "xrd47:Gi0-0-0-3"]

    - endpoints: ["xrd46:Gi0-0-0-4", "xrd46-host:xrd46-Gi0-0-0-4"]
    - endpoints: ["xrd47:Gi0-0-0-4", "xrd47-host:xrd47-Gi0-0-0-4"]