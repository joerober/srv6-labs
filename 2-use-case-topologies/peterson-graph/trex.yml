name: trex

mgmt:
  network: trexmgt_net
  ipv4-subnet: 172.20.99.0/24
  ipv6-subnet: 2001:172:20:99::/80

topology:
  nodes:

    trex01:
      kind: linux
      image: trexcisco/trex:latest
      binds: 
        - ansible/files/trex01/trex_cfg.yaml:/etc/trex_cfg.yaml
        - ansible/files/trex01/imix.py:/var/trex/v2.41/imix.py

    trex02:
      kind: linux
      image: trexcisco/trex:latest
      binds: 
        - ansible/files/trex02/trex_cfg.yaml:/etc/trex_cfg.yaml
        - ansible/files/trex02/imix.py:/var/trex/v2.41/imix.py

    trex03:
      kind: linux
      image: trexcisco/trex:latest
      binds: 
        - ansible/files/trex03/trex_cfg.yaml:/etc/trex_cfg.yaml
        - ansible/files/trex03/imix.py:/var/trex/v2.41/imix.py

    trex04:
      kind: linux
      image: trexcisco/trex:latest
      binds: 
        - ansible/files/trex04/trex_cfg.yaml:/etc/trex_cfg.yaml
        - ansible/files/trex04/imix.py:/var/trex/v2.41/imix.py

    trex05:
      kind: linux
      image: trexcisco/trex:latest
      binds: 
        - ansible/files/trex05/trex_cfg.yaml:/etc/trex_cfg.yaml
        - ansible/files/trex05/imix.py:/var/trex/v2.41/imix.py

    trex09:
      kind: linux
      image: trexcisco/trex:latest
      binds: 
        - ansible/files/trex09/trex_cfg.yaml:/etc/trex_cfg.yaml
        - ansible/files/trex09/imix.py:/var/trex/v2.41/imix.py

    xrd01-host:
      kind: bridge

    xrd02-host:
      kind: bridge

    xrd03-host:
      kind: bridge

    xrd04-host:
      kind: bridge

    xrd05-host:
      kind: bridge

    xrd09-host:
      kind: bridge

  links:
    - endpoints: ["trex01:eth1","xrd01-host:trex01-eth1"]
    - endpoints: ["trex02:eth1","xrd02-host:trex02-eth1"]
    - endpoints: ["trex03:eth1","xrd03-host:trex03-eth1"]
    - endpoints: ["trex04:eth1","xrd04-host:trex04-eth1"]
    - endpoints: ["trex05:eth1","xrd05-host:trex05-eth1"]
    - endpoints: ["trex09:eth1","xrd09-host:trex09-eth1"]
