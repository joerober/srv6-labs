#   This yml launches the SS and brick-0 portions of the clos topology
#   Bricks 1, 2, and 3 are launched via the clos-lower.yml

name: clos

mgmt:
  network: mgtnet
  ipv4-subnet: 172.20.6.0/24

topology:
  nodes:
  # Super Spine
    SS01:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.11
      startup-config: config/SS01.cfg

    SS02:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.12
      startup-config: config/SS02.cfg

    SS03:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.13
      startup-config: config/SS03.cfg

    SS04:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.14
      startup-config: config/SS03.cfg

    SS05:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.15
      startup-config: config/SS05.cfg

    SS06:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.16
      startup-config: config/SS06.cfg

    SS07:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.17
      startup-config: config/SS07.cfg

    SS08:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.18
      startup-config: config/SS08.cfg


    # Brick-0 Spine Tier-2

    SP65:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.19
      startup-config: config/SP65.cfg

    SP66:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.20
      startup-config: config/SP66.cfg

    SP67:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.21
      startup-config: config/SP67.cfg

    SP68:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.22
      startup-config: config/SP68.cfg

    # Brick-0 LF Tier-1

    LF65:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.23
      startup-config: config/LF65.cfg

    LF66:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.24
      startup-config: config/LF66.cfg

    LF67:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.25
      startup-config: config/LF67.cfg

    LF68:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.6.26
      startup-config: config/LF68.cfg


    SS01-host:
      kind: bridge

    SS02-host:
      kind: bridge

    SS03-host:
      kind: bridge

    SS04-host:
      kind: bridge

    SS05-host:
      kind: bridge

    SS06-host:
      kind: bridge

    SS07-host:
      kind: bridge

    SS08-host:
      kind: bridge

    LF65-host1:
      kind: bridge

    LF65-host2:
      kind: bridge

    LF66-host1:
      kind: bridge

    LF66-host2:
      kind: bridge

    LF67-host1:
      kind: bridge

    LF67-host2:
      kind: bridge

    LF68-host1:
      kind: bridge

    LF68-host2:
      kind: bridge

  links:

  # SS01
    - endpoints: ["SS01:Gi0-0-0-0", "SS01-host:SS01-Gi0-0-0-0"]
    - endpoints: ["SS01:Gi0-0-0-1", "SS01-host:SS01-Gi0-0-0-1"]
    - endpoints: ["SS01:Gi0-0-0-2", "SS01-host:SS01-Gi0-0-0-2"]
    - endpoints: ["SS01:Gi0-0-0-3", "SS01-host:SS01-Gi0-0-0-3"]
    - endpoints: ["SS01:Gi0-0-0-4", "SS01-host:SS01-Gi0-0-0-4"]
    - endpoints: ["SS01:Gi0-0-0-5", "SS01-host:SS01-Gi0-0-0-5"]
    - endpoints: ["SS01:Gi0-0-0-6", "SS01-host:SS01-Gi0-0-0-6"]
    - endpoints: ["SS01:Gi0-0-0-7", "SS01-host:SS01-Gi0-0-0-7"]
    - endpoints: ["SS01:Gi0-0-0-8", "SP65:Gi0-0-0-0"]
    - endpoints: ["SS01:Gi0-0-0-9", "SP66:Gi0-0-0-0"]
    - endpoints: ["SS01:Gi0-0-0-10", "SP67:Gi0-0-0-0"]
    - endpoints: ["SS01:Gi0-0-0-11", "SP68:Gi0-0-0-0"]

  # SS02
    - endpoints: ["SS02:Gi0-0-0-0", "SS02-host:SS02-Gi0-0-0-0"]
    - endpoints: ["SS02:Gi0-0-0-1", "SS02-host:SS02-Gi0-0-0-1"]
    - endpoints: ["SS02:Gi0-0-0-2", "SS02-host:SS02-Gi0-0-0-2"]
    - endpoints: ["SS02:Gi0-0-0-3", "SS02-host:SS02-Gi0-0-0-3"]
    - endpoints: ["SS02:Gi0-0-0-4", "SS02-host:SS02-Gi0-0-0-4"]
    - endpoints: ["SS02:Gi0-0-0-5", "SS02-host:SS02-Gi0-0-0-5"]
    - endpoints: ["SS02:Gi0-0-0-6", "SS02-host:SS02-Gi0-0-0-6"]
    - endpoints: ["SS02:Gi0-0-0-7", "SS02-host:SS02-Gi0-0-0-7"]
    - endpoints: ["SS02:Gi0-0-0-8", "SP65:Gi0-0-0-1"]
    - endpoints: ["SS02:Gi0-0-0-9", "SP66:Gi0-0-0-1"]
    - endpoints: ["SS02:Gi0-0-0-10", "SP67:Gi0-0-0-1"]
    - endpoints: ["SS02:Gi0-0-0-11", "SP68:Gi0-0-0-1"]

  # SS03
    - endpoints: ["SS03:Gi0-0-0-0", "SS03-host:SS03-Gi0-0-0-0"]
    - endpoints: ["SS03:Gi0-0-0-1", "SS03-host:SS03-Gi0-0-0-1"]
    - endpoints: ["SS03:Gi0-0-0-2", "SS03-host:SS03-Gi0-0-0-2"]
    - endpoints: ["SS03:Gi0-0-0-3", "SS03-host:SS03-Gi0-0-0-3"]
    - endpoints: ["SS03:Gi0-0-0-4", "SS03-host:SS03-Gi0-0-0-4"]
    - endpoints: ["SS03:Gi0-0-0-5", "SS03-host:SS03-Gi0-0-0-5"]
    - endpoints: ["SS03:Gi0-0-0-6", "SS03-host:SS03-Gi0-0-0-6"]
    - endpoints: ["SS03:Gi0-0-0-7", "SS03-host:SS03-Gi0-0-0-7"]
    - endpoints: ["SS03:Gi0-0-0-8", "SP65:Gi0-0-0-2"]
    - endpoints: ["SS03:Gi0-0-0-9", "SP66:Gi0-0-0-2"]
    - endpoints: ["SS03:Gi0-0-0-10", "SP67:Gi0-0-0-2"]
    - endpoints: ["SS03:Gi0-0-0-11", "SP68:Gi0-0-0-2"]

  # SS04
    - endpoints: ["SS04:Gi0-0-0-0", "SS04-host:SS04-Gi0-0-0-0"]
    - endpoints: ["SS04:Gi0-0-0-1", "SS04-host:SS04-Gi0-0-0-1"]
    - endpoints: ["SS04:Gi0-0-0-2", "SS04-host:SS04-Gi0-0-0-2"]
    - endpoints: ["SS04:Gi0-0-0-3", "SS04-host:SS04-Gi0-0-0-3"]
    - endpoints: ["SS04:Gi0-0-0-4", "SS04-host:SS04-Gi0-0-0-4"]
    - endpoints: ["SS04:Gi0-0-0-5", "SS04-host:SS04-Gi0-0-0-5"]
    - endpoints: ["SS04:Gi0-0-0-6", "SS04-host:SS04-Gi0-0-0-6"]
    - endpoints: ["SS04:Gi0-0-0-7", "SS04-host:SS04-Gi0-0-0-7"]
    - endpoints: ["SS04:Gi0-0-0-8", "SP65:Gi0-0-0-3"]
    - endpoints: ["SS04:Gi0-0-0-9", "SP66:Gi0-0-0-3"]
    - endpoints: ["SS04:Gi0-0-0-10", "SP67:Gi0-0-0-3"]
    - endpoints: ["SS04:Gi0-0-0-11", "SP68:Gi0-0-0-3"]

  # SS05
    - endpoints: ["SS05:Gi0-0-0-0", "SS05-host:SS05-Gi0-0-0-0"]
    - endpoints: ["SS05:Gi0-0-0-1", "SS05-host:SS05-Gi0-0-0-1"]
    - endpoints: ["SS05:Gi0-0-0-2", "SS05-host:SS05-Gi0-0-0-2"]
    - endpoints: ["SS05:Gi0-0-0-3", "SS05-host:SS05-Gi0-0-0-3"]
    - endpoints: ["SS05:Gi0-0-0-4", "SS05-host:SS05-Gi0-0-0-4"]
    - endpoints: ["SS05:Gi0-0-0-5", "SS05-host:SS05-Gi0-0-0-5"]
    - endpoints: ["SS05:Gi0-0-0-6", "SS05-host:SS05-Gi0-0-0-6"]
    - endpoints: ["SS05:Gi0-0-0-7", "SS05-host:SS05-Gi0-0-0-7"]
    - endpoints: ["SS05:Gi0-0-0-8", "SP65:Gi0-0-0-4"]
    - endpoints: ["SS05:Gi0-0-0-9", "SP66:Gi0-0-0-4"]
    - endpoints: ["SS05:Gi0-0-0-10", "SP67:Gi0-0-0-4"]
    - endpoints: ["SS05:Gi0-0-0-11", "SP68:Gi0-0-0-4"]

  # SS06
    - endpoints: ["SS06:Gi0-0-0-0", "SS06-host:SS06-Gi0-0-0-0"]
    - endpoints: ["SS06:Gi0-0-0-1", "SS06-host:SS06-Gi0-0-0-1"]
    - endpoints: ["SS06:Gi0-0-0-2", "SS06-host:SS06-Gi0-0-0-2"]
    - endpoints: ["SS06:Gi0-0-0-3", "SS06-host:SS06-Gi0-0-0-3"]
    - endpoints: ["SS06:Gi0-0-0-4", "SS06-host:SS06-Gi0-0-0-4"]
    - endpoints: ["SS06:Gi0-0-0-5", "SS06-host:SS06-Gi0-0-0-5"]
    - endpoints: ["SS06:Gi0-0-0-6", "SS06-host:SS06-Gi0-0-0-6"]
    - endpoints: ["SS06:Gi0-0-0-7", "SS06-host:SS06-Gi0-0-0-7"]
    - endpoints: ["SS06:Gi0-0-0-8", "SP65:Gi0-0-0-5"]
    - endpoints: ["SS06:Gi0-0-0-9", "SP66:Gi0-0-0-5"]
    - endpoints: ["SS06:Gi0-0-0-10", "SP67:Gi0-0-0-5"]
    - endpoints: ["SS06:Gi0-0-0-11", "SP68:Gi0-0-0-5"]

  # SS07
    - endpoints: ["SS07:Gi0-0-0-0", "SS07-host:SS07-Gi0-0-0-0"]
    - endpoints: ["SS07:Gi0-0-0-1", "SS07-host:SS07-Gi0-0-0-1"]
    - endpoints: ["SS07:Gi0-0-0-2", "SS07-host:SS07-Gi0-0-0-2"]
    - endpoints: ["SS07:Gi0-0-0-3", "SS07-host:SS07-Gi0-0-0-3"]
    - endpoints: ["SS07:Gi0-0-0-4", "SS07-host:SS07-Gi0-0-0-4"]
    - endpoints: ["SS07:Gi0-0-0-5", "SS07-host:SS07-Gi0-0-0-5"]
    - endpoints: ["SS07:Gi0-0-0-6", "SS07-host:SS07-Gi0-0-0-6"]
    - endpoints: ["SS07:Gi0-0-0-7", "SS07-host:SS07-Gi0-0-0-7"]
    - endpoints: ["SS07:Gi0-0-0-8", "SP65:Gi0-0-0-6"]
    - endpoints: ["SS07:Gi0-0-0-9", "SP66:Gi0-0-0-6"]
    - endpoints: ["SS07:Gi0-0-0-10", "SP67:Gi0-0-0-6"]
    - endpoints: ["SS07:Gi0-0-0-11", "SP68:Gi0-0-0-6"]

  # SS08
    - endpoints: ["SS08:Gi0-0-0-0", "SS08-host:SS08-Gi0-0-0-0"]
    - endpoints: ["SS08:Gi0-0-0-1", "SS08-host:SS08-Gi0-0-0-1"]
    - endpoints: ["SS08:Gi0-0-0-2", "SS08-host:SS08-Gi0-0-0-2"]
    - endpoints: ["SS08:Gi0-0-0-3", "SS08-host:SS08-Gi0-0-0-3"]
    - endpoints: ["SS08:Gi0-0-0-4", "SS08-host:SS08-Gi0-0-0-4"]
    - endpoints: ["SS08:Gi0-0-0-5", "SS08-host:SS08-Gi0-0-0-5"]
    - endpoints: ["SS08:Gi0-0-0-6", "SS08-host:SS08-Gi0-0-0-6"]
    - endpoints: ["SS08:Gi0-0-0-7", "SS08-host:SS08-Gi0-0-0-7"]
    - endpoints: ["SS08:Gi0-0-0-8", "SP65:Gi0-0-0-7"]
    - endpoints: ["SS08:Gi0-0-0-9", "SP66:Gi0-0-0-7"]
    - endpoints: ["SS08:Gi0-0-0-10", "SP67:Gi0-0-0-7"]
    - endpoints: ["SS08:Gi0-0-0-11", "SP68:Gi0-0-0-7"]


# Brick-2 Spine to Leaf

  # SP65
    - endpoints: ["SP65:Gi0-0-0-8", "LF65:Gi0-0-0-0"]
    - endpoints: ["SP65:Gi0-0-0-9", "LF66:Gi0-0-0-0"]
    - endpoints: ["SP65:Gi0-0-0-10", "LF67:Gi0-0-0-0"]
    - endpoints: ["SP65:Gi0-0-0-11", "LF68:Gi0-0-0-0"]

  # SP66
    - endpoints: ["SP66:Gi0-0-0-8", "LF65:Gi0-0-0-1"]
    - endpoints: ["SP66:Gi0-0-0-9", "LF66:Gi0-0-0-1"]
    - endpoints: ["SP66:Gi0-0-0-10", "LF67:Gi0-0-0-1"]
    - endpoints: ["SP66:Gi0-0-0-11", "LF68:Gi0-0-0-1"]

  # SP67
    - endpoints: ["SP67:Gi0-0-0-8", "LF65:Gi0-0-0-2"]
    - endpoints: ["SP67:Gi0-0-0-9", "LF66:Gi0-0-0-2"]
    - endpoints: ["SP67:Gi0-0-0-10", "LF67:Gi0-0-0-2"]
    - endpoints: ["SP67:Gi0-0-0-11", "LF68:Gi0-0-0-2"]

  # SP68
    - endpoints: ["SP68:Gi0-0-0-8", "LF65:Gi0-0-0-3"]
    - endpoints: ["SP68:Gi0-0-0-9", "LF66:Gi0-0-0-3"]
    - endpoints: ["SP68:Gi0-0-0-10", "LF67:Gi0-0-0-3"]
    - endpoints: ["SP68:Gi0-0-0-11", "LF68:Gi0-0-0-3"]


  # LF65
    - endpoints: ["LF65:Gi0-0-0-4", "LF65-host1:LF65-Gi0-0-0-4"]
    - endpoints: ["LF65:Gi0-0-0-5", "LF65-host2:LF65-Gi0-0-0-5"]


  # LF66
    - endpoints: ["LF66:Gi0-0-0-4", "LF66-host1:LF66-Gi0-0-0-4"]
    - endpoints: ["LF66:Gi0-0-0-5", "LF66-host2:LF66-Gi0-0-0-5"]


  # LF67
    - endpoints: ["LF67:Gi0-0-0-4", "LF67-host1:LF67-Gi0-0-0-4"]
    - endpoints: ["LF67:Gi0-0-0-5", "LF67-host2:LF67-Gi0-0-0-5"]


  # LF68
    - endpoints: ["LF68:Gi0-0-0-4", "LF68-host1:LF68-Gi0-0-0-4"]
    - endpoints: ["LF68:Gi0-0-0-5", "LF68-host2:LF68-Gi0-0-0-5"]
