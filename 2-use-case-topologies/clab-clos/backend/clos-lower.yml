#   This yml launches brick-1 and portions of the clos topology
#   Super spine and brick-0 are launched via the clos-upper.yml

name: clos

mgmt:
  network: mgtclos
  ipv4-subnet: 172.20.7.0/24

topology:
  nodes:

    SP01:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.11
      startup-config: config/SP01.cfg

    SP02:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.12
      startup-config: config/SP02.cfg

    SP03:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.13
      startup-config: config/SP03.cfg

    SP04:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.14
      startup-config: config/SP04.cfg

    LF01:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.15
      startup-config: config/LF01.cfg

    LF02:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.16
      startup-config: config/LF02.cfg

    LF03:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.17
      startup-config: config/LF03.cfg

    LF04:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.18
      startup-config: config/LF04.cfg

    LF05:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.19
      startup-config: config/LF05.cfg

    LF06:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.20
      startup-config: config/LF06.cfg

    LF07:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.21
      startup-config: config/LF07.cfg

    LF08:
      kind: cisco_xrd
      image: ios-xr/xrd-control-plane:24.2.2
      mgmt-ipv4: 172.20.7.22
      startup-config: config/LF08.cfg

    SP01-host:
      kind: bridge

    SP02-host:
      kind: bridge

    SP03-host:
      kind: bridge

    SP04-host:
      kind: bridge

    SP05-host:
      kind: bridge

    SP06-host:
      kind: bridge

    SP07-host:
      kind: bridge

    SP08-host:
      kind: bridge

    LF01-host1:
      kind: bridge

    LF01-host2:
      kind: bridge

    LF02-host1:
      kind: bridge

    LF02-host2:
      kind: bridge

    LF03-host1:
      kind: bridge

    LF03-host2:
      kind: bridge

    LF04-host1:
      kind: bridge

    LF04-host2:
      kind: bridge

    LF05-host1:
      kind: bridge

    LF05-host2:
      kind: bridge

    LF06-host1:
      kind: bridge

    LF06-host2:
      kind: bridge

    LF07-host1:
      kind: bridge

    LF07-host2:
      kind: bridge

    LF08-host1:
      kind: bridge

    LF08-host2:
      kind: bridge  

  links:

# Brick-1 Spine 
  # SP01
    - endpoints: ["SP01:Gi0-0-0-0", "SP01-host:SP01-Gi0-0-0-0"]
    - endpoints: ["SP01:Gi0-0-0-1", "SP01-host:SP01-Gi0-0-0-1"]
    - endpoints: ["SP01:Gi0-0-0-2", "SP01-host:SP01-Gi0-0-0-2"]
    - endpoints: ["SP01:Gi0-0-0-3", "SP01-host:SP01-Gi0-0-0-3"]
    - endpoints: ["SP01:Gi0-0-0-4", "SP01-host:SP01-Gi0-0-0-4"]
    - endpoints: ["SP01:Gi0-0-0-5", "SP01-host:SP01-Gi0-0-0-5"]
    - endpoints: ["SP01:Gi0-0-0-6", "SP01-host:SP01-Gi0-0-0-6"]
    - endpoints: ["SP01:Gi0-0-0-7", "SP01-host:SP01-Gi0-0-0-7"]
    - endpoints: ["SP01:Gi0-0-0-8", "LF01:Gi0-0-0-0"]
    - endpoints: ["SP01:Gi0-0-0-9", "LF02:Gi0-0-0-0"]
    - endpoints: ["SP01:Gi0-0-0-10", "LF03:Gi0-0-0-0"]
    - endpoints: ["SP01:Gi0-0-0-11", "LF04:Gi0-0-0-0"]

  # SP02
    - endpoints: ["SP02:Gi0-0-0-0", "SP02-host:SP02-Gi0-0-0-0"]
    - endpoints: ["SP02:Gi0-0-0-1", "SP02-host:SP02-Gi0-0-0-1"]
    - endpoints: ["SP02:Gi0-0-0-2", "SP02-host:SP02-Gi0-0-0-2"]
    - endpoints: ["SP02:Gi0-0-0-3", "SP02-host:SP02-Gi0-0-0-3"]
    - endpoints: ["SP02:Gi0-0-0-4", "SP02-host:SP02-Gi0-0-0-4"]
    - endpoints: ["SP02:Gi0-0-0-5", "SP02-host:SP02-Gi0-0-0-5"]
    - endpoints: ["SP02:Gi0-0-0-6", "SP02-host:SP02-Gi0-0-0-6"]
    - endpoints: ["SP02:Gi0-0-0-7", "SP02-host:SP02-Gi0-0-0-7"]
    - endpoints: ["SP02:Gi0-0-0-8", "LF01:Gi0-0-0-1"]
    - endpoints: ["SP02:Gi0-0-0-9", "LF02:Gi0-0-0-1"]
    - endpoints: ["SP02:Gi0-0-0-10", "LF03:Gi0-0-0-1"]
    - endpoints: ["SP02:Gi0-0-0-11", "LF04:Gi0-0-0-1"]

  # SP03
    - endpoints: ["SP03:Gi0-0-0-0", "SP03-host:SP03-Gi0-0-0-0"]
    - endpoints: ["SP03:Gi0-0-0-1", "SP03-host:SP03-Gi0-0-0-1"]
    - endpoints: ["SP03:Gi0-0-0-2", "SP03-host:SP03-Gi0-0-0-2"]
    - endpoints: ["SP03:Gi0-0-0-3", "SP03-host:SP03-Gi0-0-0-3"]
    - endpoints: ["SP03:Gi0-0-0-4", "SP03-host:SP03-Gi0-0-0-4"]
    - endpoints: ["SP03:Gi0-0-0-5", "SP03-host:SP03-Gi0-0-0-5"]
    - endpoints: ["SP03:Gi0-0-0-6", "SP03-host:SP03-Gi0-0-0-6"]
    - endpoints: ["SP03:Gi0-0-0-7", "SP03-host:SP03-Gi0-0-0-7"]
    - endpoints: ["SP03:Gi0-0-0-8", "LF01:Gi0-0-0-2"]
    - endpoints: ["SP03:Gi0-0-0-9", "LF02:Gi0-0-0-2"]
    - endpoints: ["SP03:Gi0-0-0-10", "LF03:Gi0-0-0-2"]
    - endpoints: ["SP03:Gi0-0-0-11", "LF04:Gi0-0-0-2"]

  # SP04
    - endpoints: ["SP04:Gi0-0-0-0", "SP04-host:SP04-Gi0-0-0-0"]
    - endpoints: ["SP04:Gi0-0-0-1", "SP04-host:SP04-Gi0-0-0-1"]
    - endpoints: ["SP04:Gi0-0-0-2", "SP04-host:SP04-Gi0-0-0-2"]
    - endpoints: ["SP04:Gi0-0-0-3", "SP04-host:SP04-Gi0-0-0-3"]
    - endpoints: ["SP04:Gi0-0-0-4", "SP04-host:SP04-Gi0-0-0-4"]
    - endpoints: ["SP04:Gi0-0-0-5", "SP04-host:SP04-Gi0-0-0-5"]
    - endpoints: ["SP04:Gi0-0-0-6", "SP04-host:SP04-Gi0-0-0-6"]
    - endpoints: ["SP04:Gi0-0-0-7", "SP04-host:SP04-Gi0-0-0-7"]
    - endpoints: ["SP04:Gi0-0-0-8", "LF01:Gi0-0-0-3"]
    - endpoints: ["SP04:Gi0-0-0-9", "LF02:Gi0-0-0-3"]
    - endpoints: ["SP04:Gi0-0-0-10", "LF03:Gi0-0-0-3"]
    - endpoints: ["SP04:Gi0-0-0-11", "LF04:Gi0-0-0-3"]

  # SP05
    - endpoints: ["SP05:Gi0-0-0-0", "SP05-host:SP05-Gi0-0-0-0"]
    - endpoints: ["SP05:Gi0-0-0-1", "SP05-host:SP05-Gi0-0-0-1"]
    - endpoints: ["SP05:Gi0-0-0-2", "SP05-host:SP05-Gi0-0-0-2"]
    - endpoints: ["SP05:Gi0-0-0-3", "SP05-host:SP05-Gi0-0-0-3"]
    - endpoints: ["SP05:Gi0-0-0-4", "SP05-host:SP05-Gi0-0-0-4"]
    - endpoints: ["SP05:Gi0-0-0-5", "SP05-host:SP05-Gi0-0-0-5"]
    - endpoints: ["SP05:Gi0-0-0-6", "SP05-host:SP05-Gi0-0-0-6"]
    - endpoints: ["SP05:Gi0-0-0-7", "SP05-host:SP05-Gi0-0-0-7"]
    - endpoints: ["SP05:Gi0-0-0-8", "LF01:Gi0-0-0-4"]
    - endpoints: ["SP05:Gi0-0-0-9", "LF02:Gi0-0-0-4"]
    - endpoints: ["SP05:Gi0-0-0-10", "LF03:Gi0-0-0-4"]
    - endpoints: ["SP05:Gi0-0-0-11", "LF04:Gi0-0-0-4"]

  # SP06
    - endpoints: ["SP06:Gi0-0-0-0", "SP06-host:SP06-Gi0-0-0-0"]
    - endpoints: ["SP06:Gi0-0-0-1", "SP06-host:SP06-Gi0-0-0-1"]
    - endpoints: ["SP06:Gi0-0-0-2", "SP06-host:SP06-Gi0-0-0-2"]
    - endpoints: ["SP06:Gi0-0-0-3", "SP06-host:SP06-Gi0-0-0-3"]
    - endpoints: ["SP06:Gi0-0-0-4", "SP06-host:SP06-Gi0-0-0-4"]
    - endpoints: ["SP06:Gi0-0-0-5", "SP06-host:SP06-Gi0-0-0-5"]
    - endpoints: ["SP06:Gi0-0-0-6", "SP06-host:SP06-Gi0-0-0-6"]
    - endpoints: ["SP06:Gi0-0-0-7", "SP06-host:SP06-Gi0-0-0-7"]
    - endpoints: ["SP06:Gi0-0-0-8", "LF01:Gi0-0-0-5"]
    - endpoints: ["SP06:Gi0-0-0-9", "LF02:Gi0-0-0-5"]
    - endpoints: ["SP06:Gi0-0-0-10", "LF03:Gi0-0-0-5"]
    - endpoints: ["SP06:Gi0-0-0-11", "LF04:Gi0-0-0-5"]

  # SP07
    - endpoints: ["SP07:Gi0-0-0-0", "SP07-host:SP07-Gi0-0-0-0"]
    - endpoints: ["SP07:Gi0-0-0-1", "SP07-host:SP07-Gi0-0-0-1"]
    - endpoints: ["SP07:Gi0-0-0-2", "SP07-host:SP07-Gi0-0-0-2"]
    - endpoints: ["SP07:Gi0-0-0-3", "SP07-host:SP07-Gi0-0-0-3"]
    - endpoints: ["SP07:Gi0-0-0-4", "SP07-host:SP07-Gi0-0-0-4"]
    - endpoints: ["SP07:Gi0-0-0-5", "SP07-host:SP07-Gi0-0-0-5"]
    - endpoints: ["SP07:Gi0-0-0-6", "SP07-host:SP07-Gi0-0-0-6"]
    - endpoints: ["SP07:Gi0-0-0-7", "SP07-host:SP07-Gi0-0-0-7"]
    - endpoints: ["SP07:Gi0-0-0-8", "LF01:Gi0-0-0-6"]
    - endpoints: ["SP07:Gi0-0-0-9", "LF02:Gi0-0-0-6"]
    - endpoints: ["SP07:Gi0-0-0-10", "LF03:Gi0-0-0-6"]
    - endpoints: ["SP07:Gi0-0-0-11", "LF04:Gi0-0-0-6"]

  # SP08
    - endpoints: ["SP08:Gi0-0-0-0", "SP08-host:SP08-Gi0-0-0-0"]
    - endpoints: ["SP08:Gi0-0-0-1", "SP08-host:SP08-Gi0-0-0-1"]
    - endpoints: ["SP08:Gi0-0-0-2", "SP08-host:SP08-Gi0-0-0-2"]
    - endpoints: ["SP08:Gi0-0-0-3", "SP08-host:SP08-Gi0-0-0-3"]
    - endpoints: ["SP08:Gi0-0-0-4", "SP08-host:SP08-Gi0-0-0-4"]
    - endpoints: ["SP08:Gi0-0-0-5", "SP08-host:SP08-Gi0-0-0-5"]
    - endpoints: ["SP08:Gi0-0-0-6", "SP08-host:SP08-Gi0-0-0-6"]
    - endpoints: ["SP08:Gi0-0-0-7", "SP08-host:SP08-Gi0-0-0-7"]
    - endpoints: ["SP08:Gi0-0-0-8", "LF01:Gi0-0-0-7"]
    - endpoints: ["SP08:Gi0-0-0-9", "LF02:Gi0-0-0-7"]
    - endpoints: ["SP08:Gi0-0-0-10", "LF03:Gi0-0-0-7"]
    - endpoints: ["SP08:Gi0-0-0-11", "LF04:Gi0-0-0-7"]

# Brick-1 Leaf 

  # LF01
    - endpoints: ["LF01:Gi0-0-0-8", "LF01-host1:LF01-Gi0-0-0-8"]
    - endpoints: ["LF01:Gi0-0-0-9", "LF01-host2:LF01-Gi0-0-0-9"]

  # LF02
    - endpoints: ["LF02:Gi0-0-0-8", "LF02-host1:LF02-Gi0-0-0-8"]
    - endpoints: ["LF02:Gi0-0-0-9", "LF02-host2:LF02-Gi0-0-0-9"]

  # LF03
    - endpoints: ["LF03:Gi0-0-0-8", "LF03-host1:LF03-Gi0-0-0-8"]
    - endpoints: ["LF03:Gi0-0-0-9", "LF03-host2:LF03-Gi0-0-0-9"]

  # LF04
    - endpoints: ["LF04:Gi0-0-0-8", "LF04-host1:LF04-Gi0-0-0-8"]
    - endpoints: ["LF04:Gi0-0-0-9", "LF04-host2:LF04-Gi0-0-0-9"]

  # LF05
    - endpoints: ["LF05:Gi0-0-0-8", "LF05-host1:LF05-Gi0-0-0-8"]
    - endpoints: ["LF05:Gi0-0-0-9", "LF05-host2:LF05-Gi0-0-0-9"]

  # LF06
    - endpoints: ["LF06:Gi0-0-0-8", "LF06-host1:LF06-Gi0-0-0-8"]
    - endpoints: ["LF06:Gi0-0-0-9", "LF06-host2:LF06-Gi0-0-0-9"]

  # LF07
    - endpoints: ["LF07:Gi0-0-0-8", "LF07-host1:LF07-Gi0-0-0-8"]
    - endpoints: ["LF07:Gi0-0-0-9", "LF07-host2:LF07-Gi0-0-0-9"]

  # LF08
    - endpoints: ["LF08:Gi0-0-0-8", "LF08-host1:LF08-Gi0-0-0-8"]
    - endpoints: ["LF08:Gi0-0-0-9", "LF08-host2:LF08-Gi0-0-0-9"]
